# load libraries
library(glmnetUtils)
source("code/functions/plot_glmnet.R")
library(tidyverse)
library(kableExtra)
setwd("~/Desktop/stat-471-fall-2021/kanter-rush-final")
source("code/functions/plot_glmnet.R")
# read in the training data
mental_health_train = read_csv("data/clean/mental_health_train.csv")
# read in the test
mental_health_test = read_csv("data/clean/mental_health_test.csv")
# run lasso regression
set.seed(1)
lasso_fit = cv.glmnet(mentally_unhealthy_days ~. -physically_unhealthy_days,
alpha = 1,
nfolds = 10,
data = mental_health_train)
# extract features selected by lasso and their coefficients
beta_hat_std = extract_std_coefs(lasso_fit, mental_health_train)
head(lasso_fit$cvsd)
beta_hat_std %>%
filter(coefficient != 0) %>%
arrange(desc(abs(coefficient))) %>%
head(10)
